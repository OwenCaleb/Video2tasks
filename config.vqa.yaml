# Video2Tasks VQA Example Configuration
# Copy this file to config.yaml and customize for your setup

datasets:
  - root: "/mnt/nas_ssd/workspace/wenboli/projects/Wall-X/wallx/data/g1_new/lerobot/Teleop_251103_Sort_Anonymous_10Hz_old"  # Path to extracted frame images
    subset: "frame_retarget_head"     # Subdirectory containing frames or per-sample subfolders

run:
  base_dir: "./runs"
  run_id: "default"
  task_type: "vqa"

server:
  host: "0.0.0.0"
  port: 8099
  max_queue: 32
  inflight_timeout_sec: 300.0
  max_retries_per_job: 5
  auto_exit_after_all_done: false

worker:
  server_url: "http://127.0.0.1:8099"
  backend: "qwen3vl"  # Options: "dummy", "qwen3vl", "remote_api"

  qwen3vl:
    model_path: "/mnt/nas_ssd/workspace/wenboli/projects/Wall-X/wallx/models/qwen/Qwen3-VL-32B-Instruct"
    device_map: "balanced"

  remote_api:
    api_url: "http://127.0.0.1:8080/infer"
    api_key: ""
    timeout_sec: 60.0
    headers: {}

vqa:
  question_types: ["spatial", "attribute", "existence", "count", "manipulation"]
  questions_per_type:
    spatial: 3
    attribute: 3
    existence: 0
    count: 3
    manipulation: 0
  task_context: |
    High-level task:
    Put the toy cars into the brown basket and put the fruit into the black basket.

    Object inventory (some props may repeat):
    - Containers:
    Descriptor : CanonicalRef
    A brown rectangular bamboo-woven storage basket : brown basket
    A black rectangular bamboo-woven storage basket : black basket
    - Fruit:
    A green round kiwifruit : kiwi
    Half a kiwifruit with a brown fuzzy skin and a green interior (a kind of ground fruit when look) : kiwi
    A purple bunch of grapes : grapes
    Half a red apple with a white interior : apple
    A yellow avocado with a white center and an orange pit : avocado
    A green avocado (alligator pear) with a bumpy, textured skin : avocado
    An orange with a bright orange peel : orange
    A small round orange-colored citrus fruit with a green stem : orange
    - Toy cars:
    A small red toy truck : red car
    A small red toy car : red car
    A small gold toy car : gold car
    A small black toy car : black car
    Various toy cars : <color> car
    Rule for Various toy cars: if the car color is identifiable, set CanonicalRef to "<color> car" (e.g., blue car, white car). Use a single color word.
  sample_hz: 1
  target_width: 424
  target_height: 240
  output_format: "jsonl"

logging:
  level: "INFO"